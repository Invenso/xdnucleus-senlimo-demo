Senlimo Demo for XperiDo Nucleus
================================
These are a few examples on how to access XperiDo Nucleus from a Java and .NET environment

Java
----

### Installation
Enter the credentials for the database server and XperiDo Nucleus server in the following files

```
src/main/resources/META-INF/persistence.xml 
src/main/resources/xperido.properties
```

From the command line, run `mvn clean install`

### Testing the installation
Running the class `com.invenso.xperido.senlimo.demo.sales.SaveContract` should generate a `contract.pdf` file in your home directory (the exact location will be logged on stdout)

`mvn exec:java -Dexec.mainClass="com.invenso.xperido.senlimo.demo.sales.SaveContract"`

### Demo
All demos work in pretty much the same way

* Retrieve data
    - from the database using JPA, then map the JPA entities to JAXB-annotated beans using [MapStruct](http://mapstruct.org)
    - from an XML file somewhere using DOM
* Find the template
* Generate a document using the template and the XML data from the JAXB beans
* Do some post processing (mail, save, print) once the document has finished generating

All demos can be found in the `com.invenso.xperido.senlimo.demo` package and its subpackages

One notable exception is the PrintQuote sample in the sales subpackage. This example uses a data set based on a datasource. The retrieval of the data is done serverside. Only the name of the query to execute and its parameters are provided to the SDK.

### Implementation notes
#### Database
This project uses a PostgreSQL database as defined in the persistence.xml file

Hibernate is used as the JPA provider.

#### JAXB
The code for JAXB is generated by the Maven JAXB plugin from the XML schemas in src/main/resources

Several executions are defined in the POM, since there is overlap between many of the elements in the different schemas.
We could have chosen to merge all the XML schemas together, but that would complicate if the data or template designer decides
a schema change is necessary.

#### XperiDoServices
All code accessing the xperido-client code is put in one class XperiDoServices.
This class uses the xperido.properties resource to get its credentials

.NET
----

Open the solution from src/main/csharp and run the only project in it